<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	*{
		margin: 0 0;
    	padding: 0 0;
	}
	.all-wrap{
		width: 100%;
		height: 100%;
		margin: 80px auto;
	}
	.wrap{
		width:1030px;
		height: 477px;
		margin: 0 auto;
	}
	.wrap li{
		list-style: none;
		height: 477px;
		float: left;
		border-bottom: #ccc solid 1px;
		border-right: #ccc solid 1px;
		-webkit-transition:width 0.3s;
	}
	.wrap .index{
		width: 475px;
		border-left: #ccc solid 1px;
	}
	</style>
</head>
<body>
	<div class="all-wrap">
		<ul class="wrap">
			<li style="background-image:url('door1.png');" class="index"></li>
			<li style="background-image:url('door2.png');"></li>
			<li style="background-image:url('door3.png');"></li>
			<li style="background-image:url('door4.png');"></li>
		</ul>
	</div>
	<script>
		window.addEventListener("DOMContentLoaded", function() {
			var wrap = document.querySelector('.wrap');
			var li = document.querySelectorAll('.wrap li');
			var wrapWidth = parseInt(wrap.offsetWidth, 10);
			function initialState() {
				for(var i = 1; i < li.length; i++){
					li[i].style.width = Math.floor((wrapWidth - 480) / 3) + "px";
				}
			}
			initialState();//初始化图片宽度
			for (let i = 0; i < li.length; i++) {
				(function(i) {
					li[i].addEventListener("mousemove", function() {
						li[i].style.width = "475px";
						for(var j = 0; j  < li.length; j++){
							if (j != i) {
								li[j].style.width = Math.floor((wrapWidth - 480) / 3) + "px";
							}
						}
					}, false)
				})(i);
			}
		}, false)
	</script>
</body>
</html>